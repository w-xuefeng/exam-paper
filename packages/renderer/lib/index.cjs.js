const e="question",t="answer",n="title",r="description",s="blank",o="header",l="footer",c="inline",a="css",u=()=>{};function i(e){return void 0===e&&(e=""),"number"==typeof e&&(e=String(e)),document.createTextNode(e)}function p(e,t,n){const r=e();return t&&Object.entries(t).forEach(([e,t])=>{if("attrs"===e&&"object"==typeof t&&null!==t)Object.entries(t).forEach(([e,t])=>{r.setAttribute(e,t)});else if("on"===e&&"object"==typeof t&&null!==t)Object.entries(t).forEach(([e,t])=>{const n="function"==typeof t?t.bind(r):"object"==typeof t&&null!==t&&"event"in t&&"function"==typeof t.event?t.event.bind(r):"object"==typeof t&&null!==t&&"handleEvent"in t&&"function"==typeof t.handleEvent?t.handleEvent.bind(r):()=>{},s="object"==typeof t&&null!==t&&"option"in t?t.option:void 0;r.addEventListener(e,n,s)});else if("style"===e)if("object"==typeof t&&null!==t){const e="string"!=typeof(l=t)&&l?Object.entries(l).map(([e,t])=>{return`${n=e,n.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}:${t}`;var n}).join(";"):l;Reflect.set(r.style,"cssText",e)}else"string"==typeof t&&Reflect.set(r.style,"cssText",t);else"className"===e?(n=r,s=r.tagName,o=t,d(s)||function(e){return"svg"===e?.dataset?.domType||"svg"===e?.tagName}(n)?Reflect.set(n.className,"baseVal",o):Reflect.set(n,"className",o)):"attrs"!==e&&"on"!==e&&"style"!==e&&Reflect.set(r,e,t);var n,s,o,l}),n&&r.append(...Array.isArray(n)?n:[n]),r}function d(e){return"string"==typeof e&&("svg"===e||e.startsWith("SVG:"))}function f(e,t,n){return p(d(e)?()=>{const t=document.createElementNS("http://www.w3.org/2000/svg",e.replace(/^SVG:/,""));return t.setAttribute("data-dom-type","svg"),t}:()=>document.createElement(e),t,n)}function E(e){if(!e)return null;if("string"==typeof e)return f("style",null,i(e));if(!Object.keys(e).length)return null;function t(e){let n="";for(const[r,s]of Object.entries(e)){if("string"==typeof s||"number"==typeof s){n+=`${r.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${s};`}"object"==typeof s&&(n+=`${r} {${t(s)}}`)}return n.trim()}return f("style",null,i(function(e){let n="";for(const[r,s]of Object.entries(e))n+=`${r} {${t(s)}}`;return n.trim()}(e)))}function y(e,t=document.body){if(!e)return u;const n=function(e,t=document){return"string"==typeof e?t.querySelector(e):e}(t);if(!n)return u;n.append(e)}function m(e){const{value:t}="value"in e?e:{value:e};return t}function b(e,t,n){customElements.get(e)||customElements.define(e,t,n)}const R=e=>`exam-paper-${e}`,T={PAPER:R("container"),QUESTION:R("question"),ANSWER:R("answer"),TITLE:R("title"),DESCRIPTION:R("description"),BLANK:R("blank"),HEADER:R("header"),FOOTER:R("footer"),STYLED:R("styled-content"),QUESTION_ORDER_NUMBER:R("question-order-number"),QUESTION_SCORE:R("question-score")};var v=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function O(e,t=T.STYLED,n){b(T.STYLED,v);const{type:r,value:s}=e.style,o=r===c?s:void 0,l=r===a?E(s):null;if(l){const r=f(t,n);return r.attachShadow({mode:"open"}).append(l,f("main",{innerHTML:e.value})),r}return f(t,{...n,innerHTML:e.value,style:o})}var S=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function N(e){b(T.STYLED,S);const t=m(e);return"string"==typeof t?f(T.ANSWER,{innerHTML:t}):O(t,T.ANSWER)}var x=class extends HTMLElement{constructor(){super()}connectedCallback(){}},h=class extends HTMLElement{constructor(){super()}connectedCallback(){}},L=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function g(e){b(T.QUESTION,x),b(T.QUESTION_ORDER_NUMBER,h),b(T.QUESTION_SCORE,L);const{orderNumber:t,title:n,description:r,options:s,score:o,answer:l}=m(e),c=O(n),a=t?f(T.QUESTION_ORDER_NUMBER,{textContent:t}):null,u=o?f(T.QUESTION_SCORE,{textContent:o.formatter?o.formatter.replace("%d",`${o.value}`):`${o.value}`}):null,i=r?O(r):null,p=s?.map(e=>O(e)),d=l?N(l.value):null,E=[a,c,u].filter(Boolean),y=[a||u?f("header",{style:{display:"inline-flex",alignItems:"baseline",gap:"0.5em"}},E):c,i,p,d].filter(Boolean).flat();return f(T.QUESTION,null,y)}function k(e){const{value:t}=e,{type:n}=t;return g(t)}var C=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function I(e){b(T.TITLE,C);return O(m(e),T.TITLE)}var A=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function D(e){b(T.DESCRIPTION,A);return O(m(e),T.DESCRIPTION)}var H=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function M(e){return b(T.BLANK,H),O({value:"",style:e.style},T.BLANK)}var j=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function U(e){b(T.HEADER,j);return O(m(e),T.HEADER)}var $=class extends HTMLElement{constructor(){super()}connectedCallback(){}};function w(e){b(T.FOOTER,$);return O(m(e),T.FOOTER)}var B=class extends HTMLElement{type;constructor(){super()}connectedCallback(){const e=Object.fromEntries(Array.from(this.attributes).map(e=>{return[e.name,(t=e.value,"null"===t?null:"'null'"===t||'"null"'===t?"null":"undefined"!==t?"'undefined'"===t||'"undefined"'===t?"undefined":"true"===t||("'true'"===t||'"true"'===t?"true":"false"!==t&&("'false'"===t||'"false"'===t?"false":/^\d+$/.test(t)?Number(t):t)):void 0)];var t}));"string"==typeof e.type&&e.type&&(this.type=e.type)}};function P(e){b(T.PAPER,B);const{paperSize:t,value:{style:n}}=e;return O({value:"",style:n},T.PAPER,{attrs:{type:t.name}})}function Q(){return{[T.PAPER]:{display:"block"},[T.QUESTION]:{display:"block"},[T.ANSWER]:{display:"block"},[T.TITLE]:{display:"block"},[T.DESCRIPTION]:{display:"block"},[T.BLANK]:{display:"block"},[T.HEADER]:{display:"block"},[T.FOOTER]:{display:"block"},[T.STYLED]:{display:"block"},[T.QUESTION_ORDER_NUMBER]:{display:"block"},[T.QUESTION_SCORE]:{display:"block"}}}function _(){const e="exam-paper-element-agent-style-sheet";if(document.getElementById(e))return;const t=E(Q());t&&(t.id=e,function(e,t=`global-custome-style-${Date.now()}`,n=document){e.id=e.id||t,n===document?n.head.appendChild(e):n.insertBefore(e,n.firstChild)}(t))}function q(c){switch(c.type){case e:return k(c);case n:return I(c);case r:return D(c);case s:return M(c);case o:return U(c);case l:return w(c);case t:return N(c);default:return null}}exports.answerRenderer=N,exports.applyElementDefaultStyles=_,exports.blankRenderer=M,exports.descriptionRenderer=D,exports.elementDefaultStyles=Q,exports.examPaperRenderer=function(e){const{value:{value:t}}=e,n=P(e),r=[];if(Array.isArray(t)){const e=t.map(q).filter(Boolean);r.push(...e)}else{const{header:e,title:n,description:s,main:o,answer:l,footer:c}=t;e&&r.push(U(e)),n&&r.push(I(n)),s&&r.push(D(s)),o&&r.push(...o.map(q).filter(Boolean)),l&&r.push(...l.map(N)),c&&r.push(w(c))}return n.append(...r),{paper:n,mounted:(e=document.body)=>{_(),y(n,e)}}},exports.footerRenderer=w,exports.headerRenderer=U,exports.matchRender=q,exports.paperRenderer=P,exports.questionRenderer=k,exports.styledContentRenderer=O,exports.titleRenderer=I;